# Example schema for collecting tech stack information
# Used by setup-project-domain-vendor for Tech Stack domain

schema:
  languages:
    type: array
    required: true
    items:
      type: string
    description: "Programming languages used in this project"
    example: ["TypeScript", "Python", "Go"]
    presets:
      - ["TypeScript"]
      - ["TypeScript", "Python"]
      - ["JavaScript"]
      - ["Python"]
      - ["Go"]
      - ["Rust"]

  primary_language:
    type: enum
    required: true
    options_from: languages  # Dynamic options from languages array
    description: "Primary programming language"

  frameworks:
    type: array
    required: false
    items:
      type: string
    description: "Frameworks and libraries used"
    example: ["React", "FastAPI", "Express"]

  package_manager:
    type: enum
    required: true
    options: ["npm", "yarn", "pnpm", "bun", "pip", "poetry", "cargo", "go mod"]
    description: "Package manager for dependencies"
    detect_from:
      - "package-lock.json -> npm"
      - "yarn.lock -> yarn"
      - "pnpm-lock.yaml -> pnpm"
      - "bun.lockb -> bun"
      - "requirements.txt -> pip"
      - "poetry.lock -> poetry"
      - "Cargo.lock -> cargo"
      - "go.sum -> go mod"

  runtime_version:
    type: string
    required: false
    description: "Runtime version (e.g., Node 20, Python 3.11)"
    detect_from:
      - ".nvmrc"
      - ".python-version"
      - "go.mod"

  build_tool:
    type: enum
    required: false
    options: ["webpack", "vite", "esbuild", "rollup", "tsc", "none"]
    description: "Build tool for compilation/bundling"

  test_framework:
    type: enum
    required: false
    options: ["jest", "vitest", "pytest", "go test", "cargo test", "none"]
    description: "Testing framework"

context: "Identifying the tech stack for your project to configure appropriate tooling and documentation"
